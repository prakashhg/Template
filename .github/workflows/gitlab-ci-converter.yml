this is my code and we are getting this error

Run set -euo pipefail
  set -euo pipefail
  page=1
  while true; do
    RESP=$(mktemp) ; HDR=$(mktemp)
    if ! curl --fail-with-body -s -D "${HDR}" -H "PRIVATE-TOKEN: ${GL_TOKEN}" \
      "${GL_API}/projects/${GL_ENC}/milestones?per_page=100&page=${page}" > "${RESP}"; then
      echo "ERROR: GitLab Milestones API non-2xx"; cat "${HDR}" || true; head -c 300 "${RESP}" || true; exit 1
    fi
  
    [[ "$(jq -r 'type' "${RESP}")" == "array" ]] || { echo "WARN: milestones response not array"; head -c 300 "${RESP}" || true; break; }
  
    jq -c '.[]' "${RESP}" | while IFS= read -r ms; do
      title=$(printf '%s' "${ms}" | jq -r '.title')
      description=$(printf '%s' "${ms}" | jq -r '.description // empty')
      due=$(printf '%s' "${ms}" | jq -r '.due_date // empty')
  
      payload=$(jq -n --arg title "${title}" --arg desc "${description}" --arg due "${due}" \
                 '{title:$title, description:$desc} + (((($due|length)>0) ? {due_on:$due} : {}))')
  
      status=$(curl -s -o /dev/null -w "%{http_code}" \
        -H "Authorization: ***" -H "Accept: application/vnd.github+json" -H "Content-Type: application/json" \
        -d "${payload}" "https://api.github.com/repos/${GH_OWNER}/${GH_REPO}/milestones")
      echo "Milestone ${title} status: ${status}"
      sleep 1
    done
  
    next=$(awk -F': ' '/^X-Next-Page:/ {print $2}' "${HDR}" | tr -d '\r')
    [[ -z "${next}" || "${next}" == "0" ]] && break
    page="${next}"
  done
  shell: /usr/bin/bash -e {0}
  env:
    GL_TOKEN: ***
    GH_PAT: ***
    GL_URL: https://gitlab.com
    GH_OWNER: prakashhg
    REPO_NAME_MODE: 
    GH_REPO_PREFIX: 
    GH_REPO_SEPARATOR: 
    GL_API: https://gitlab.com/api/v4
    GL_ENC: prakashguruswamy24-group%2Fgitlab_project
    GH_REPO: gitlab_project
jq: error: syntax error, unexpected '{' (Unix shell quoting issues?) at <top-level>, line 1:
{title:$title, description:$desc} + (((($due|length)>0) ? {due_on:$due} : {}))                                                          
jq: 1 compile error
Error: Process completed with exit code 3.
